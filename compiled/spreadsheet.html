<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TimelineJS</title>
    <meta charset="utf-8">
    <meta name="description" content="TimelineJS Embed">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <!-- CSS-->
    <link rel="stylesheet" href="css/timeline.css?v1">
    <!--FONT-->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Bevan%7CPontano+Sans&amp;amp;subset=latin,latin">
    <!-- Style-->
    <style>
      html, body {
       height:100%;
       width:100%;
       padding: 0px;
       margin: 0px;
      }
      .vco-timeline {
      }
      
    </style>
    <!-- HTML5 shim, for IE6-8 support of HTML elements-->
    <!--if lt IE 9
    script(src='http://html5shim.googlecode.com/svn/trunk/html5.js')
    
    -->
  </head>
  <body>
    <input type="text" id="url" placeholder="Enter a google spreadsheet URL" size="100"/> <button type="button" id="preview">Go</button>
    <hr>
    <div id="timeline"></div>
    <!-- JavaScript-->
    <script src="js/timeline.js"></script>
    <script>
    var timeline = null;
    var button = document.getElementById('preview');
    button.addEventListener('click',function(){
      new_timeline(document.getElementById('url').value);
    });
    document.getElementById('url').addEventListener('keyup',function(evt) {
      if (evt.keyCode == 13) {
        new_timeline(document.getElementById('url').value);
      }
    });
    function new_timeline(url) {
      timeline = null; // TODO: actively 'destroy' an existing timeline?
      var json = VCO.ConfigFactory.fromGoogle(url);
      
      window.factory_json = json;

      var timeline = new VCO.Timeline('timeline', new VCO.TimelineConfig(json), {
      });
      window.onresize = function(event) {
       timeline.updateDisplay();
      }
    }
    </script>
  </body>
</html>